{"version":3,"sources":["images/logo.svg","images/loading-gif1.gif","images/union.svg","images/union-failed.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Greeting.js","components/CardFriend.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeleteCardPopup.js","components/ImagePopup.js","utils/auth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/api.js","components/InfoTooltip.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","email","deleteEmail","isHiddenAuthForm","location","useLocation","history","useHistory","React","useState","burgerClicked","setBurgerClicked","className","src","logo","alt","pathname","to","onClick","localStorage","removeItem","push","CurrentUserContext","createContext","Card","onCardClick","card","onCardLike","onCardDelete","currentUser","useContext","isOwn","_id","owner","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","listPeopleLiked","map","name","join","path","useRouteMatch","type","aria-label","role","style","backgroundImage","link","length","Greeting","CardFriend","onCardFriendClick","cardFriend","avatar","about","Footer","Main","onEditAvatar","onEditProfile","onAddPlace","cards","onCardsClick","onFriendsClick","arrId","forEach","element","includes","arrCards","elem","find","loadingGif","title","activeClassName","exact","key","PopupWithForm","isOpen","onClose","children","onSubmit","noValidate","action","method","EditProfilePopup","onUpdateUser","isLoading","setName","description","setDescription","isDisabled","setIsDisabled","isNameErrorVisible","setIsNameErrorVisible","isDescriptionErrorVisible","setIsDescriptionErrorVisible","inputName","useRef","inputDescription","spanNameError","spanDescriptionError","useEffect","setTimeout","current","checkValidity","e","preventDefault","placeholder","required","minLength","maxLength","pattern","onChange","target","value","ref","id","validationMessage","disabled","EditAvatarPopup","onUpdateAvatar","inputLinkAvatar","setLink","isLinkErrorVisible","setIsLinkErrorVisible","spanLinkError","AddPlacePopup","inputLink","ConfirmDeleteCardPopup","onButtonClick","ImagePopup","selectedCard","BASE_URL","Login","onLoginSuccessed","onLoginFailed","setEmail","password","setPassword","handleChange","fetch","headers","body","JSON","stringify","then","res","json","catch","err","console","log","auth","token","setItem","handleLoginSuccessed","message","autoComplete","Register","onRegisterSuccessed","onRegisterFailed","handleRegisterFailed","data","error","ProtectedRoute","Component","component","props","loggedIn","api","options","this","_baseUrl","baseUrl","_headers","ok","Promise","reject","status","_handleResponse","cardId","authorization","InfoTooltip","registerSuccessed","messageError","union","unionFailed","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImageCardPopupOpen","setIsImageCardPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setSelectedCard","setCurrentUser","setCards","setCard","setLoading","initialPath","setInitialPath","initialCard","setInitialCard","initialFriend","setInitialFriend","linkCards","setLinkCards","isLoggedIn","setIsLoggedIn","isRegisterSuccessed","setIsRegisterSuccessed","setMessageError","setIsHiddenAuthForm","handleLike","newCards","c","closeAllPopups","closeInfoTooltip","tokenCheck","jwt","getItem","Accept","Authorization","finally","all","getInitialCards","getUserData","initCard","slice","initFriend","closePopupsByOverlay","classList","contains","document","addEventListener","removeEventListener","closeInfoTooltipByOverlay","closePopupsByEsc","querySelector","Provider","deleteLike","newCard","putLike","linkCardsPath","linkFriendsPath","patchUserData","patchAvatar","postCard","deleteCard","filter","Boolean","window","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aab88531.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-gif1.41702357.gif\";","module.exports = __webpack_public_path__ + \"static/media/union.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/union-failed.f10ac534.svg\";","import React from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header({ email, deleteEmail, isHiddenAuthForm }) {\n  const location = useLocation();\n  const history = useHistory();\n\n  const [burgerClicked, setBurgerClicked] = React.useState(false);\n\n  function handleClick() {\n    setBurgerClicked(!burgerClicked);\n  }\n\n  function signOut() {\n    deleteEmail();\n    setBurgerClicked(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"/sign-in\");\n  }\n\n  return (\n    <header className=\"header page__header\">\n      <div className=\"header__nav\">\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n        {!isHiddenAuthForm && location.pathname === \"/sign-up\" && (\n          <Link className=\"header__link\" to=\"/sign-in\">\n             Войти\n          </Link>\n        )}\n        {!isHiddenAuthForm && location.pathname === \"/sign-in\" && (\n          <Link className=\"header__link\" to=\"/sign-up\">\n            Регистрация\n          </Link>\n        )}\n        {email && (\n          <button\n            className={`header__burger ${\n              burgerClicked && \"header__burger_close\"\n            }`}\n            onClick={handleClick}\n          ></button>\n        )}\n      </div>\n      {email && (\n        <div\n          className={`header__auth ${burgerClicked && \"header__auth_opened\"}`}\n        >\n          <p className=\"header__email\">{email}</p>\n          <Link\n            className=\"header__link header__link_signout\"\n            to=\"/sign-in\"\n            onClick={signOut}\n          >\n             Выйти\n          </Link>\n        </div>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\n\nfunction Card({ onCardClick, card, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = currentUser._id === card.owner;\n  const cardDeleteButtonClassName = `elements__remove ${\n    isOwn ? \"elements__remove_active\" : null\n  }`;\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\n  const cardLikeButtonClassName = `elements__like ${\n    isLiked ? \"elements__like_active\" : null\n  }`;\n  const listPeopleLiked = card.likes.map((item) => item.name).join(\", \");\n  const { path } = useRouteMatch();\n\n  function handleClick() {\n    onCardClick(card, path);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  return (\n    <li className=\"elements__item\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        aria-label=\"Удалить карточку\"\n        onClick={handleDeleteClick}\n      />\n      <Link to={`/cards/${card._id}`}>\n        <div\n          className=\"elements__image\"\n          role=\"img\"\n          style={{ backgroundImage: `url(${card.link})` }}\n          onClick={handleClick}\n        />\n      </Link>\n      <article className=\"elements__item-bottom\">\n        <h4 className=\"elements__item-title\">{card.name}</h4>\n        <div className=\"elements__like-container\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            aria-label=\"Поставить лайк в виде сердечка\"\n            onClick={handleLikeClick}\n          />\n          <div className=\"elements__like-message\">\n            {listPeopleLiked\n              ? `Нравится: ${listPeopleLiked}`\n              : \"Это место пока никто не оценил...😒\"}\n          </div>\n          <div className=\"elements__like-counter\">{card.likes.length}</div>\n        </div>\n      </article>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Greeting() {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name } = currentUser;\n\n  if (name) {\n    return (\n      <section className=\"greeting\">\n        <h2 className=\"greeting__text\">{`Добро пожаловать, ${name}!`}</h2>\n      </section>\n    );\n  } else {\n    return null;\n  }\n}\n\nexport default Greeting;\n","import React from \"react\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\n\n\nfunction CardFriend({ onCardFriendClick, cardFriend }) {\n  const { path } = useRouteMatch();\n\n  function handleClick() {\n    onCardFriendClick(cardFriend, path);\n  }\n\n  return (\n    <li className=\"elements__item\">\n      <Link to={`/friends/${cardFriend._id}`}>\n        <div\n          className=\"elements__image\"\n          role=\"img\"\n          style={{ backgroundImage: `url(${cardFriend.avatar})` }}\n          onClick={handleClick}\n        />\n      </Link>\n      <article className=\"elements__item-bottom elements__item-bottom_theme-friend\">\n        <h4 className=\"elements__item-title\">{cardFriend.name}</h4>\n        <p className=\"elements__item-subtitle\">{cardFriend.about}</p>\n      </article>\n    </li>\n  );\n}\n\nexport default CardFriend;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport loadingGif from \"../images/loading-gif1.gif\";\nimport Card from \"./Card\";\nimport Greeting from \"./Greeting\";\nimport CardFriend from \"./CardFriend\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport { NavLink, Route } from \"react-router-dom\";\nimport Footer from \"./Footer\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n  onCardFriendClick,\n  onCardsClick,\n  onFriendsClick,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const arrId = [];\n  cards.forEach((element) => {\n    if (!arrId.includes(element.owner)) {\n      arrId.push(element.owner);\n    }\n  });\n  const arrCards = [];\n  arrId.forEach((element) => {\n    const elem = cards.find((item) => item.owner === element);\n    arrCards.push(elem.owner);\n  });\n\n  function handleCardsClick() {\n    onCardsClick(\"/cards\");\n  }\n\n  function handleFriendsClick() {\n    onFriendsClick(\"/friends\");\n  }\n\n  return (\n    <>\n      <section className=\"profile page__profile\">\n        <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n          <img\n            src={currentUser.avatar || loadingGif}\n            alt=\"Фотография\"\n            className=\"profile__avatar\"\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__info-top\">\n            <h2 className=\"profile__title\">\n              {currentUser.name || \"Загрузка...\"}\n            </h2>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button\"\n              title=\"Редактировать профиль\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__subtitle\">\n            {currentUser.about || \"Загрузка...\"}\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          title=\"Добавить карточку\"\n          onClick={onAddPlace}\n        />\n      </section>\n\n      <nav className=\"links page__links\">\n        <ul className=\"links__list\">\n          <li className=\"links__item\">\n            <NavLink\n              to=\"/cards\"\n              className=\"links__item-link\"\n              activeClassName=\"links__item-link_active\"\n              onClick={handleCardsClick}\n            >\n              Карточки\n            </NavLink>\n            <NavLink\n              to=\"/friends\"\n              className=\"links__item-link\"\n              activeClassName=\"links__item-link_active\"\n              onClick={handleFriendsClick}\n            >\n              Друзья\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      <section className=\"elements page__elements\">\n        <Route path=\"/\" exact>\n          <Greeting />\n        </Route>\n        <ul className=\"elements__list\">\n          <Route path=\"/cards\">\n            {cards.map((card) => (\n              <Card\n                key={card._id}\n                onCardClick={onCardClick}\n                card={card}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            ))}\n          </Route>\n          <Route path=\"/friends\">\n            {arrCards.map((card) => {\n              return (\n                <CardFriend\n                  key={card._id}\n                  onCardFriendClick={onCardFriendClick}\n                  cardFriend={card}\n                />\n              );\n            })}\n          </Route>\n        </ul>\n      </section>\n      <Footer />\n    </>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm({ name, isOpen, onClose, title, children, onSubmit }) {\n  return (\n    <div className={`pop-up ${name} ${isOpen ? \"pop-up-opened\" : \"\"}`}>\n      <form\n        onSubmit={onSubmit}\n        noValidate\n        action=\"#\"\n        className=\"form\"\n        method=\"POST\"\n        name={`${name}`}\n      >\n        <button\n          type=\"button\"\n          className=\"pop-up__close-icon\"\n          aria-label=\"Закрыть форму\"\n          onClick={onClose}\n        />\n        <h3 className=\"form__title\">{title}</h3>\n        {children}\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n  const [isDisabled, setIsDisabled] = React.useState(true);\n  const [isNameErrorVisible, setIsNameErrorVisible] = React.useState(false);\n  const [\n    isDescriptionErrorVisible,\n    setIsDescriptionErrorVisible,\n  ] = React.useState(false);\n  const inputName = React.useRef();\n  const inputDescription = React.useRef();\n  const spanNameError = React.useRef();\n  const spanDescriptionError = React.useRef();\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, 200);\n    setIsNameErrorVisible(false);\n    setIsDescriptionErrorVisible(false);\n    setIsDisabled(true);\n  }, [currentUser, isOpen]);\n\n  React.useEffect(() => {\n    if (\n      inputName.current.checkValidity() &&\n      inputDescription.current.checkValidity()\n    ) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [name, description]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n    if (e.target.checkValidity()) {\n      setIsNameErrorVisible(false);\n    } else {\n      setIsNameErrorVisible(true);\n    }\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n    if (e.target.checkValidity()) {\n      setIsDescriptionErrorVisible(false);\n    } else {\n      setIsDescriptionErrorVisible(true);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"pop-up_profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"form__input-container\">\n        <input\n          name=\"input-name\"\n          type=\"text\"\n          className={`form__input form__input_name ${\n            isNameErrorVisible ? \"form__input_type_error\" : \"\"\n          }`}\n          placeholder=\"Имя Фамилия\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]+\"\n          onChange={handleNameChange}\n          value={name || \"\"}\n          ref={inputName}\n        />\n        <span\n          id=\"input-name-error\"\n          className={`form__input-error ${\n            isNameErrorVisible ? \"form__input-error_visible\" : \"\"\n          }`}\n          ref={spanNameError}\n        >\n          {isNameErrorVisible ? inputName.current.validationMessage : \"\"}\n        </span>\n      </div>\n      <div className=\"form__input-container\">\n        <input\n          name=\"input-profession\"\n          type=\"text\"\n          className={`form__input form__input_profession ${\n            isDescriptionErrorVisible ? \"form__input_type_error\" : \"\"\n          }`}\n          placeholder=\"Профессиональная деятельность\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleDescriptionChange}\n          value={description || \"\"}\n          ref={inputDescription}\n        />\n        <span\n          id=\"input-profession-error\"\n          className={`form__input-error ${\n            isDescriptionErrorVisible ? \"form__input-error_visible\" : \"\"\n          }`}\n          ref={spanDescriptionError}\n        >\n          {isDescriptionErrorVisible\n            ? inputDescription.current.validationMessage\n            : \"\"}\n        </span>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"form__input-button\"\n        disabled={isDisabled}\n      >\n        {isLoading ? \"Загрузка...\" : \"Сохранить\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const inputLinkAvatar = React.useRef(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [isDisabled, setIsDisabled] = React.useState(true);\n  const [isLinkErrorVisible, setIsLinkErrorVisible] = React.useState(false);\n  const spanLinkError = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputLinkAvatar.current.value,\n    });\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n    if (e.target.checkValidity()) {\n      setIsLinkErrorVisible(false);\n    } else {\n      setIsLinkErrorVisible(true);\n    }\n  }\n\n  React.useEffect(() => {\n    setTimeout(() => setLink(\"\"), 200);\n    setIsLinkErrorVisible(false);\n    setIsDisabled(true);\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (inputLinkAvatar.current.checkValidity()) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [link]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"pop-up_avatar\"\n      title=\"Обновить аватар\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"form__input-container\">\n        <input\n          ref={inputLinkAvatar}\n          name=\"input-link-avatar\"\n          type=\"url\"\n          className={`form__input form__input_link-avatar ${\n            isLinkErrorVisible ? \"form__input_type_error\" : \"\"\n          }`}\n          placeholder=\"Ссылка на картинку\"\n          required\n          value={link || \"\"}\n          onChange={handleLinkChange}\n        />\n        <span\n          id=\"input-link-avatar-error\"\n          className={`form__input-error ${\n            isLinkErrorVisible ? \"form__input-error_visible\" : \"\"\n          }`}\n          ref={spanLinkError}\n        >\n          {isLinkErrorVisible ? inputLinkAvatar.current.validationMessage : \"\"}\n        </span>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"form__input-button\"\n        disabled={isDisabled}\n      >\n        {isLoading ? \"Загрузка...\" : \"Сохранить\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [isDisabled, setIsDisabled] = React.useState(true);\n  const [isNameErrorVisible, setIsNameErrorVisible] = React.useState(false);\n  const [isLinkErrorVisible, setIsLinkErrorVisible] = React.useState(false);\n  const inputName = React.useRef();\n  const inputLink = React.useRef();\n  const spanNameError = React.useRef();\n  const spanLinkError = React.useRef();\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n    if (e.target.checkValidity()) {\n      setIsNameErrorVisible(false);\n    } else {\n      setIsNameErrorVisible(true);\n    }\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n    if (e.target.checkValidity()) {\n      setIsLinkErrorVisible(false);\n    } else {\n      setIsLinkErrorVisible(true);\n    }\n  }\n\n  function handleAddPlaceSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n    setIsNameErrorVisible(false);\n    setIsLinkErrorVisible(false);\n  }, [isOpen]);\n\n  React.useEffect(() => {\n    if (\n      inputName.current.checkValidity() &&\n      inputLink.current.checkValidity()\n    ) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [name, link]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleAddPlaceSubmit}\n      name=\"pop-up_card\"\n      title=\"Новое место\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"form__input-container\">\n        <input\n          name=\"input-name-card\"\n          type=\"text\"\n          className={`form__input form__input_name-card ${\n            isNameErrorVisible ? \"form__input_type_error\" : \"\"\n          }`}\n          placeholder=\"Название\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]+\"\n          onChange={handleNameChange}\n          value={name || \"\"}\n          ref={inputName}\n        />\n        <span\n          id=\"input-name-card-error\"\n          className={`form__input-error ${\n            isNameErrorVisible ? \"form__input-error_visible\" : \"\"\n          }`}\n          ref={spanNameError}\n        >\n          {isNameErrorVisible ? inputName.current.validationMessage : \"\"}\n        </span>\n      </div>\n      <div className=\"form__input-container\">\n        <input\n          name=\"input-link-card\"\n          type=\"url\"\n          className={`form__input form__input_link-card ${\n            isLinkErrorVisible ? \"form__input_type_error\" : \"\"\n          }`}\n          placeholder=\"Ссылка на картинку\"\n          required\n          onChange={handleLinkChange}\n          value={link}\n          ref={inputLink}\n        />\n        <span\n          id=\"input-link-card-error\"\n          className={`form__input-error ${\n            isLinkErrorVisible ? \"form__input-error_visible\" : \"\"\n          }`}\n          ref={spanLinkError}\n        >\n          {isLinkErrorVisible ? inputLink.current.validationMessage : \"\"}\n        </span>\n      </div>\n      <button\n        type=\"submit\"\n        className=\"form__input-button\"\n        disabled={isDisabled}\n      >\n        {isLoading ? \"Загрузка...\" : \"Создать\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction ConfirmDeleteCardPopup({ isOpen, onClose, onButtonClick, isLoading }) {\n  function handleClick() {\n    onButtonClick();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"pop-up_confirm\"\n      title=\"Вы уверены?\"\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <button\n        onClick={handleClick}\n        type=\"button\"\n        className=\"form__input-button form__input-button_comfirm\"\n      >\n        {isLoading ? \"Удаление...\" : \"Да\"}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default ConfirmDeleteCardPopup;\n","import React from \"react\";\n\nfunction ImagePopup({ isOpen, onClose, selectedCard }) {\n  return (\n    <div className={`pop-up-image ${isOpen && \"pop-up-opened\"}`}>\n      <figure className=\"pop-up-image__container\">\n        <button\n          type=\"button\"\n          className=\"pop-up-image__close-icon\"\n          aria-label=\"Закрыть форму\"\n          onClick={onClose}\n        />\n        <img\n          alt=\"Изображение\"\n          className=\"pop-up-image__img\"\n          src={selectedCard.link || selectedCard.avatar}\n        />\n        <figcaption className=\"pop-up-image__description\">\n          {selectedCard.name}\n        </figcaption>\n        <figcaption className=\"pop-up-image__description\">\n          {selectedCard.about}\n        </figcaption>\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","const BASE_URL = \"http://localhost:3000\";\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => data);\n};\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as auth from \"../utils/auth\";\n\nfunction Login({ onLoginSuccessed, onLoginFailed, isHiddenAuthForm }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const history = useHistory();\n\n  function handleChange(e) {\n    if (e.target.name === \"email\") {\n      setEmail(e.target.value);\n    } else if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  }\n\n  function handleLoginSuccessed(email) {\n    onLoginSuccessed(email);\n  }\n\n  function handleLoginFailed(err) {\n    onLoginFailed(err);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.authorize(email, password).then((res) => {\n      if (res.token) {\n        localStorage.setItem(\"jwt\", res.token);\n        handleLoginSuccessed(email);\n        setEmail(\"\");\n        setPassword(\"\");\n        history.push(\"/\");\n      } else if (res.message) {\n        setEmail(\"\");\n        setPassword(\"\");\n        handleLoginFailed(res.message);\n      }\n    });\n  }\n\n  if (isHiddenAuthForm) {\n    return null;\n  }\n\n  return (\n    <div className=\"login page__login\">\n      <h2 className=\"login__title\">Вход</h2>\n      <form className=\"login__form\" onSubmit={handleSubmit}>\n        <input\n          className=\"login__email\"\n          placeholder=\"Email\"\n          required\n          type=\"email\"\n          name=\"email\"\n          value={email || \"\"}\n          onChange={handleChange}\n          autoComplete=\"off\"\n        />\n        <input\n          className=\"login__password\"\n          placeholder=\"Пароль\"\n          required\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={handleChange}\n          autoComplete=\"current-password\"\n        />\n        <button type=\"submit\" className=\"login__button\">\n          Войти\n        </button>\n        <p className=\"login__text\">\n          Ещё не зарегистрированы?\n          <Link className=\"login__link\" to=\"/sign-up\">\n            {\" \"}\n            Регистрация\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as auth from \"../utils/auth\";\n\nfunction Register({ onRegisterSuccessed, onRegisterFailed, isHiddenAuthForm }) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const history = useHistory();\n\n  function handleChange(e) {\n    if (e.target.name === \"email\") {\n      setEmail(e.target.value);\n    } else if (e.target.name === \"password\") {\n      setPassword(e.target.value);\n    }\n  }\n\n  function handleRegisterSuccessed() {\n    onRegisterSuccessed();\n  }\n\n  function handleRegisterFailed(err) {\n    onRegisterFailed(err);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    auth.register(email, password).then((res) => {\n      console.log(res)\n      if (res.data) {\n        setEmail(\"\");\n        setPassword(\"\");\n        handleRegisterSuccessed();\n        history.push(\"/sign-in\");\n      } else if (res.error) {\n        setEmail(\"\");\n        setPassword(\"\");\n        handleRegisterFailed(res.error);\n        history.push(\"/sign-up\");\n      } else if (res.message) {\n        setEmail(\"\");\n        setPassword(\"\");\n        handleRegisterFailed(res.message);\n        history.push(\"/sign-up\");\n      }\n    });\n  }\n\n  if (isHiddenAuthForm) {\n    return null;\n  }\n\n  return (\n    <div className=\"login page__login\">\n      <h2 className=\"login__title\">Регистрация</h2>\n      <form className=\"login__form\" onSubmit={handleSubmit}>\n        <input\n          className=\"login__email\"\n          placeholder=\"Email\"\n          required\n          type=\"email\"\n          name=\"email\"\n          value={email || \"\"}\n          onChange={handleChange}\n          autoComplete=\"off\"\n        />\n        <input\n          className=\"login__password\"\n          placeholder=\"Пароль\"\n          required\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          minLength={3}\n          onChange={handleChange}\n          autoComplete=\"current-password\"\n        />\n        <button type=\"submit\" className=\"login__button\">\n          Зарегистрироваться\n        </button>\n        <p className=\"login__text\">\n          Уже зарегистрированы?\n          <Link className=\"login__link\" to=\"/sign-in\">\n            {\" \"}\n            Войти\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route path={props.path}>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  patchUserData(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  postCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._handleResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResponse);\n  }\n\n  patchAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._handleResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"http://localhost:3000\",\n  headers: {\n    authorization: \"5f8b36db11578d76d19bf81a\",\n    \"Content-Type\": \"application/json;charset=utf-8\",\n  },\n});\n","import React from \"react\";\nimport union from \"../images/union.svg\";\nimport unionFailed from \"../images/union-failed.svg\";\n\nfunction InfoTooltip({ registerSuccessed, isOpen, onClose, messageError }) {\n  return (\n    <div className={`pop-up-tooltip ${isOpen && \"pop-up-tooltip_opened\"}`}>\n      <div className=\"pop-up-tooltip__container\">\n        <button\n          type=\"button\"\n          className=\"pop-up-tooltip__close-icon\"\n          aria-label=\"Закрыть тултип\"\n          onClick={onClose}\n        />\n        <div className=\"pop-up-tooltip__inner\">\n          <img\n            className=\"pop-up-tooltip__img\"\n            src={registerSuccessed ? union : unionFailed}\n            alt=\"Изображение тултипа\"\n          />\n          <p className=\"pop-up-tooltip__text\">\n            {registerSuccessed\n              ? \"Вы успешно зарегистрировались!\"\n              : `${messageError}! Попробуйте еще раз.`}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeleteCardPopup from \"./ConfirmDeleteCardPopup\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport ImagePopup from \"./ImagePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { api } from \"../utils/api\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState();\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState();\n  const [isImageCardPopupOpen, setIsImageCardPopupOpen] = React.useState();\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState();\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = React.useState();\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [card, setCard] = React.useState({});\n  const [isLoading, setLoading] = React.useState();\n  const [initialPath, setInitialPath] = React.useState(\"\");\n  const [initialCard, setInitialCard] = React.useState({});\n  const [initialFriend, setInitialFriend] = React.useState({});\n  const [linkCards, setLinkCards] = React.useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [isRegisterSuccessed, setIsRegisterSuccessed] = React.useState();\n  const [messageError, setMessageError] = React.useState(\"\");\n  const [email, setEmail] = React.useState(null);\n  const [isHiddenAuthForm, setIsHiddenAuthForm] = React.useState(true)\n\n  const location = useLocation();\n  const history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserData()])\n      .then((data) => {\n        setCards([...data[0]]);\n        const initCard = data[0].find(\n          (card) => card._id === location.pathname.slice(7)\n        );\n        if (initCard) {\n          setIsImageCardPopupOpen(true);\n          setSelectedCard({ ...initCard });\n          setInitialCard({ ...initCard });\n        }\n        const initFriend = data[0].find(\n          (card) => card.owner === location.pathname.slice(9)\n        );\n        if (initFriend) {\n          setIsImageCardPopupOpen(true);\n          setSelectedCard({ ...initFriend.owner });\n          setInitialFriend({ ...initFriend.owner });\n        }\n        setCurrentUser({ ...data[1] });\n      })\n      .catch((err) => console.error(err));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function handleLike(card) {\n    const newCards = cards.map((c) => (c._id === card._id ? card : c));\n    setCards(newCards);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\n    if (!isLiked) {\n      api\n        .putLike(card._id)\n        .then((newCard) => {\n          handleLike(newCard);\n        })\n        .catch((err) => console.log(err));\n    } else if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          handleLike(newCard);\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function handleCardDelete(card) {\n    setIsConfirmPopupOpen(true);\n    setCard({ ...card });\n  }\n\n  function handleCardClick(card, path) {\n    setIsImageCardPopupOpen(true);\n    setSelectedCard({ ...card });\n    setInitialPath(path);\n  }\n\n  function handleCardsClick(linkCardsPath) {\n    setLinkCards(linkCardsPath);\n  }\n\n  function handleFriendsClick(linkFriendsPath) {\n    setLinkCards(linkFriendsPath);\n  }\n\n  function handleCardFriendClick(cardFriend, path) {\n    setIsImageCardPopupOpen(true);\n    setSelectedCard({ ...cardFriend });\n    setInitialPath(path);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setLoading(true);\n    api\n      .patchUserData(name, about)\n      .then((res) => {\n        setCurrentUser({ ...res });\n        closeAllPopups();\n        setLoading(false);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setLoading(true);\n    api\n      .patchAvatar(avatar)\n      .then((res) => {\n        setCurrentUser({ ...res });\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleAddPlace({ name, link }) {\n    setLoading(true);\n    api\n      .postCard(name, link)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.error(err));\n  }\n\n  function handleConfirmButtonClick() {\n    setLoading(true);\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n        setTimeout(() => setLoading(false), 200);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImageCardPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setTimeout(() => setSelectedCard({}), 200);\n    if (location.pathname === \"/\") {\n      history.push(\"/\");\n    } else if (linkCards) {\n      setTimeout(() => history.push(linkCards), 200);\n    } else if (initialPath) {\n      setTimeout(() => history.push(initialPath), 200);\n    } else if (initialCard) {\n      setTimeout(() => history.push(\"/cards\"), 200);\n    } else if (initialFriend) {\n      setTimeout(() => history.push(\"/friends\"), 200);\n    }\n    setInitialCard({});\n    setInitialFriend({});\n  }\n\n  function closeInfoTooltip() {\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  function handleRegisterSuccessed() {\n    setIsRegisterSuccessed(true);\n    setIsInfoTooltipPopupOpen(true);\n  }\n\n  function handleRegisterFailed(err) {\n    setIsRegisterSuccessed(false);\n    setIsInfoTooltipPopupOpen(true);\n    setMessageError(err);\n  }\n\n  function handleLoginSuccessed(email) {\n    setIsLoggedIn(true);\n    setEmail(email);\n  }\n\n  function deleteEmail() {\n    setEmail(null);\n  }\n\n  function handleLoginFailed(err) {\n    setIsRegisterSuccessed(false);\n    setIsInfoTooltipPopupOpen(true);\n    setMessageError(err);\n  }\n\n  React.useEffect(() => {\n    const closePopupsByOverlay = (e) => {\n      if (e.target.classList.contains(\"pop-up-opened\")) {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener(\"click\", closePopupsByOverlay);\n    return () => document.removeEventListener(\"click\", closePopupsByOverlay);\n  });\n\n  React.useEffect(() => {\n    const closeInfoTooltipByOverlay = (e) => {\n      if (e.target.classList.contains(\"pop-up-tooltip_opened\")) {\n        closeInfoTooltip();\n      }\n    };\n\n    document.addEventListener(\"click\", closeInfoTooltipByOverlay);\n    return () =>\n      document.removeEventListener(\"click\", closeInfoTooltipByOverlay);\n  });\n\n  React.useEffect(() => {\n    const closePopupsByEsc = (e) => {\n      if (e.key === \"Escape\" && document.querySelector(\".pop-up-opened\")) {\n        closeAllPopups();\n      }\n      if (\n        e.key === \"Escape\" &&\n        document.querySelector(\".pop-up-tooltip_opened\")\n      ) {\n        closeInfoTooltip();\n      }\n    };\n\n    document.addEventListener(\"keydown\", closePopupsByEsc);\n    return () => document.removeEventListener(\"keydown\", closePopupsByEsc);\n  });\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .getContent(jwt)\n        .then((res) => {\n          if (res.data) {\n            setIsLoggedIn(true);\n            setEmail(res.data.email);\n            history.push(\"/\");\n          } else if (res.message) {\n            localStorage.removeItem(\"jwt\");\n            history.push(\"/sign-in\");\n          }\n        })\n        .finally(() => setIsHiddenAuthForm(false));\n    } else if (!jwt) {\n      setIsHiddenAuthForm(false);\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          email={email}\n          deleteEmail={deleteEmail}\n          isHiddenAuthForm={isHiddenAuthForm}\n        />\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login\n              isHiddenAuthForm={isHiddenAuthForm}\n              onLoginSuccessed={handleLoginSuccessed}\n              onLoginFailed={handleLoginFailed}\n            />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register\n              isHiddenAuthForm={isHiddenAuthForm}\n              onRegisterSuccessed={handleRegisterSuccessed}\n              onRegisterFailed={handleRegisterFailed}\n            />\n          </Route>\n          <ProtectedRoute\n            path=\"/\"\n            component={Main}\n            loggedIn={isLoggedIn}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onCardFriendClick={handleCardFriendClick}\n            onCardsClick={handleCardsClick}\n            onFriendsClick={handleFriendsClick}\n          />\n        </Switch>\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isLoading={isLoading}\n        />\n        <ConfirmDeleteCardPopup\n          isOpen={isConfirmPopupOpen}\n          onClose={closeAllPopups}\n          onButtonClick={handleConfirmButtonClick}\n          isLoading={isLoading}\n        />\n        <ImagePopup\n          isOpen={isImageCardPopupOpen}\n          onClose={closeAllPopups}\n          selectedCard={selectedCard}\n        />\n        <InfoTooltip\n          registerSuccessed={isRegisterSuccessed}\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closeInfoTooltip}\n          messageError={messageError}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}